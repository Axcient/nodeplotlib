"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const path_1=require("path"),opn=require("opn"),express=require("express");let serverInstances=0;const app=express(),port=8080;let server,container=[],resetFlag=!1;function clear(){container=[]}function stack(e){checkReset(),container.push(e)}function plot(e){checkReset(),e&&container.push(e),spawn(),resetFlag=!0}function checkReset(){resetFlag&&(container=[],resetFlag=!1)}function spawn(){0===serverInstances&&(app.use(express.static(path_1.join(__dirname,"www"))),app.get("/data",(e,t)=>{t.send(container),server.close()}),server=app.listen(port,()=>{opn(`http://localhost:${port}`)}),serverInstances++)}exports.clear=clear,exports.stack=stack,exports.plot=plot;